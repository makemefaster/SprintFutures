<!-- ... (Head and Style same as before) ... -->
<!-- Inside renderHeatCard function in the Script tag: -->

<script>
    // ... (previous code) ...
    function renderHeatCard(h, riders, isHistory=false) {
        let borderClass = isHistory ? 'border-slate-700' : 'border-slate-600 hover:border-slate-500';
        let bgClass = isHistory ? 'bg-slate-800' : 'bg-slate-800 shadow-lg';
        let catLabel = h.catName ? `<span class="bg-black/40 px-2 py-0.5 rounded text-[0.6rem] uppercase tracking-wider ml-2 text-slate-300 border border-white/10">${h.catName}</span>` : '';
        
        // START TIME DISPLAY
        let timeDisplay = h.startTime ? `<span class="text-green-400 text-xs font-mono ml-2 flex items-center"><span class="mr-1">‚è∞</span>${h.startTime}</span>` : '';

        let html = `<div class="${bgClass} rounded-xl border ${borderClass} overflow-hidden mb-3 transition-all duration-300">
            <div class="bg-black/30 p-2 text-xs font-bold text-slate-400 flex justify-between items-center backdrop-blur-sm">
                <div class="flex items-center"><span class="text-white">${h.name}</span> ${catLabel} ${timeDisplay}</div>
                <span>${h.riders ? h.riders.length : 0} Riders</span>
            </div>
            <div class="p-3 space-y-2">`;
        
        if(h.riders) {
            h.riders.forEach(r => {
                let idx = (h.res||[]).indexOf(r.id);
                let status = idx !== -1 ? `<span class="text-green-400 font-bold text-xs ml-2 bg-green-900/30 px-2 py-0.5 rounded border border-green-500/30">${idx+1}</span>` : '';
                
                // HANDLING DNS/DSQ VISUALS
                let dim = isHistory ? "text-slate-400" : "text-slate-200";
                let bibDisplay = `#${r.bib||'-'}`;
                
                if (r.status === 'DNS') {
                    dim = "text-slate-600 line-through decoration-slate-500";
                    status = '<span class="text-[0.6rem] bg-slate-700 text-slate-400 px-1 rounded">DNS</span>';
                } else if (r.status === 'DSQ') {
                    dim = "text-red-400";
                    status = '<span class="text-[0.6rem] bg-red-900 text-red-300 px-1 rounded border border-red-700">DSQ</span>';
                } else if (idx===0 && isHistory) {
                    dim = "text-green-400 font-bold";
                }

                html += `<div class="flex items-center justify-between text-sm group">
                    <div class="flex items-center">
                        <span class="w-8 text-slate-500 text-xs font-mono group-hover:text-slate-300 transition">${bibDisplay}</span>
                        <span class="font-medium ${dim}">${r.name}</span>
                        <span class="text-[0.6rem] text-slate-600 ml-2 font-mono">${r.time ? 'Q:'+r.time : ''}</span>
                    </div>
                    ${status}
                </div>`;
            });
        }
        return html + `</div></div>`;
    }
    // ... (Rest of code) ...
</script>
